[{"content":"Comment policy\n# How comment works Comment powered by gittalk.\nGitalk is a modern comment component based on GitHub Issue and Preact.\nhttps://github.com/gitalk/gitalk\nComment repo:\nAll comments are stored in repo issues\nhttps://github.com/YuiOfAstora/hugoblog-comments.git\n# Comment policy Before you add your contribution in the comment section of posts of the blog, please take a moment to look over the helpful guidelines below.\nShow respect: Add smart, relevant ideas that expand on an post’s premise — read the post before you comment. Offer useful, constructive (not stupid or ugly) criticism. All rights reserved: For any comment, we reserve the right to edit, delete, move, or mark it as spam. Keep on topic: Drop funny references or jokes that carry the conversation forward. Links: If you must include a link in your comment, please be aware that your comment may not be approved for posting. Be patient. Obvious attempts to promote your business, gain backlinks, traffic, or other types of self-promotion are not allowed. Liability: By posting a comment, you agree that your contribution is your own and that you take responsibility for it. You agree to hold post authors and other commenters harmless. Spam: Don’t do it. Privacy: Do not post phone numbers, email addresses, or any other private or personal information to protect the affected party. This is not the place to exchange contact information with other visitors. ","date":"2023-01-27T08:46:47+08:00","image":"https://yuiofastora.github.io/p/comment-policy/cover_hu66dc2260028b9a2ea256e6c8c48ae95e_2127373_120x120_fill_box_smart1_3.png","permalink":"https://yuiofastora.github.io/p/comment-policy/","title":"Comment policy"},{"content":"Using a hardware security key to protect account credentials\nGet a Yubikey\n# Setup a Yubikey 5 NFC Insert Yubikey into PC(Windows 10, 11)\nInstall Yubikey manager to configure FIDO2, OTP and PIV functionality. (Run as administrator to config FIDO2)\nConfigure a PIN(6~8 characters) to protect certificates, it would be locked after 3 failure tries. We also need to set up a PUK to unlock device after 3 failure tries. Then generate a management key and choose protecting it with PIN.\nA FIDO2 PIN(8 characters) is needed.\n# Using yubikey for 2-Step Verification # Google: Go to https://myaccount.google.com/security,\nadd a security key under 2 step verification\n# Github: Add a key\nEnter FIDO2 PIN after prompted\n# X ( Previously Twitter): [Enroll](https://twitter.com/i/flow/two-factor-security-key-enrollment\n# Facebook https://accountscenter.facebook.com/password_and_security/two_factor\n# Microsoft # Securing 2FA OTP Using Yubikey authenticator to secure 2FA OTP credentials.\n# Securing Windows Login # Passwordless Login # Login with Azure AD Requirements:\nAzure Active Directory web applications Azure Active Directory joined Windows 10 devices (Windows 10 1909 and later) Hybrid Azure Active Directory joined Windows 10 devices (Windows 10 2004 and later) Compatible devices\nGuides: https://alven.tech/passwordless-with-windows-10-and-yubikey/\n# Using Yubikey for windows Hello(yubikey 5 series incompatible) Get the UWP app(No longer available)\nhttps://apps.microsoft.com/store/detail/yubikey-for-windows-hello/9NBLGGH511M5\nGet the offline package from limbenjamin\n# Local account securing If your user account is local and not managed by Azure Active Directory (AAD) or Active Directory (AD), you can add a layer of protection beyond passwords with the YubiKey.\nBefore installing the Yubico Login for Windows software, please make a note of your Windows username and password. If you do not have your UN/PW, you will not be able to log in once Yubico Login for Windows has been installed\nOnce Yubico Login for Windows has been configured, there is: No Windows Password Hint No way to reset passwords No Remember Previous User/Login function. Install Yubico Login for Windows software\nIf u\u0026rsquo;re signed in with a Microsoft account, switch to a local account instead. System settings\u0026gt;Accounts\u0026gt;Your info\nWindows\u0026rsquo; automatic login is not compatible\nSet a password if there isn\u0026rsquo;t one\nSet a windows hello PIN in case of any thing goes wrong when configuring\nBetter to have at least 2 security keys in case of a key lost\nCheck ur user name: powershell whoami command\nIn this case, the username is yui\nStart Login Configuration of Yubico Login for windows\nChoose a slot and select Manually input secret, select create backup device for each user if u have at least 2 keys(recommended). Generating recovery code is recommended if u only have one key.\nWe\u0026rsquo;re using slot 2 here since slot 2 is for long touch, we can set slot 1 for windows password later(Optional).\nGenerate a random hex string for secret,\nhttps://www.browserling.com/tools/random-hex\n40 digits is enough here.\nInput the generated secret\nFollow the instructions and secure the recovery code(if there is one)\nRestart and login, now ur PC is secured with Yubikey\nOptional:\nIf u\u0026rsquo;re tired of entering password every time, u can set a strong password, then store as static password into ur yubikey slot 1(we\u0026rsquo;ve used slot 2 before)\nStart the yubikey manager, go to Applications\u0026gt;OTP, configure slot 1(short touch) for static password. Choose allow any character and input ur windows password. Now u can touch the key to enter the password automatically when login.\nAs such, a maximum configurable value of 14 for the minimum password length in Windows may be too short.\nWe need use Group Policy Editor to enforce password length greater than 14 characters.\nPress Windows + R and enter gpedit.msc. Navigate to Computer Configuration -\u0026gt; Windows Settings -\u0026gt; Security Settings -\u0026gt; Account Policies -\u0026gt; Password Policy.\nChange “Relax minimum password length limits” to Enabled Change “Minimum password length audit” to the number of characters you want the minimum password length to be. Change “Minimum password length” to to the number of characters you want the minimum password length to be. Enable Password must meet complexity requirements Then u\u0026rsquo;re ready to change password with longer characers.\nIf everything works, remove ur windows hello PIN. After that u can only use security key to access ur PC.\n","date":"2023-03-02T14:46:47+08:00","image":"https://yuiofastora.github.io/p/using-yubikey-to-secure-credentials/cover_hu643f7af386e5eb02e9bacd5a3848225b_1855102_120x120_fill_box_smart1_3.png","permalink":"https://yuiofastora.github.io/p/using-yubikey-to-secure-credentials/","title":"Using Yubikey to secure credentials"},{"content":"Self host a cloud storage with docker.\nDeploy with Docker compose\ndocker-compose.yml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 version: \u0026#34;3\u0026#34; volumes: files: driver: local mysql: driver: local redis: driver: local services: owncloud: image: owncloud/server:${OWNCLOUD_VERSION} container_name: owncloud_server restart: always ports: - ${HTTP_PORT}:8080 depends_on: - mariadb - redis environment: - OWNCLOUD_DOMAIN=localhost:8080 - OWNCLOUD_TRUSTED_DOMAINS=${OWNCLOUD_TRUSTED_DOMAINS} - OWNCLOUD_DB_TYPE=mysql - OWNCLOUD_DB_NAME=owncloud - OWNCLOUD_DB_USERNAME=owncloud - OWNCLOUD_DB_PASSWORD=owncloud - OWNCLOUD_DB_HOST=mariadb - OWNCLOUD_ADMIN_USERNAME=${ADMIN_USERNAME} - OWNCLOUD_ADMIN_PASSWORD=${ADMIN_PASSWORD} - OWNCLOUD_MYSQL_UTF8MB4=true - OWNCLOUD_REDIS_ENABLED=true - OWNCLOUD_REDIS_HOST=redis healthcheck: test: [\u0026#34;CMD\u0026#34;, \u0026#34;/usr/bin/healthcheck\u0026#34;] interval: 30s timeout: 10s retries: 5 volumes: - files:/mnt/data mariadb: image: mariadb:10.6 # minimum required ownCloud version is 10.9 container_name: owncloud_mariadb restart: always environment: - MYSQL_ROOT_PASSWORD=owncloud - MYSQL_USER=owncloud - MYSQL_PASSWORD=owncloud - MYSQL_DATABASE=owncloud command: [\u0026#34;--max-allowed-packet=128M\u0026#34;, \u0026#34;--innodb-log-file-size=64M\u0026#34;] healthcheck: test: [\u0026#34;CMD\u0026#34;, \u0026#34;mysqladmin\u0026#34;, \u0026#34;ping\u0026#34;, \u0026#34;-u\u0026#34;, \u0026#34;root\u0026#34;, \u0026#34;--password=owncloud\u0026#34;] interval: 10s timeout: 5s retries: 5 volumes: - mysql:/var/lib/mysql redis: image: redis:6 container_name: owncloud_redis restart: always command: [\u0026#34;--databases\u0026#34;, \u0026#34;1\u0026#34;] healthcheck: test: [\u0026#34;CMD\u0026#34;, \u0026#34;redis-cli\u0026#34;, \u0026#34;ping\u0026#34;] interval: 10s timeout: 5s retries: 5 volumes: - redis:/data ","date":"2023-02-21T18:00:00+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-owncloud/","title":"Self Hosting Owncloud"},{"content":"Setup docker and portainer\n# Installing Docker 1 2 3 4 5 6 7 8 9 10 11 #Install a few prerequisite packages which let apt use packages over HTTPS: $ sudo apt install apt-transport-https ca-certificates curl software-properties-common #Add the GPG key for the official Docker repository $ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - #Add the Docker repository to APT sources $ sudo add-apt-repository \u0026#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable\u0026#34; $ sudo apt install docker-ce $ sudo systemctl status docker # Install Docker Compose 1 2 3 4 5 $ sudo curl -L \u0026#34;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\u0026#34; -o /usr/local/bin/docker-compose #replace 1.29.2 with latest version from https://github.com/docker/compose/releases $ sudo chmod +x /usr/local/bin/docker-compose $ docker-compose --version # Install Portainer 1 2 3 4 5 $ cd ~/ $ docker volume create portainer_data $ docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:latest $ iptables -L DOCKER\nCheck Docker port\nBy default, docker will create iptables rules which would bypass firewall settings\nTo fix this,\nhttps://github.com/chaifeng/ufw-docker\nAdd following line to /etc/ufw/after.rules,\nbefore line COMMIT\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 # BEGIN UFW AND DOCKER *filter :ufw-user-forward - [0:0] :ufw-docker-logging-deny - [0:0] :DOCKER-USER - [0:0] -A DOCKER-USER -j ufw-user-forward -A DOCKER-USER -j RETURN -s 10.0.0.0/8 -A DOCKER-USER -j RETURN -s 172.16.0.0/12 -A DOCKER-USER -j RETURN -s 192.168.0.0/16 -A DOCKER-USER -p udp -m udp --sport 53 --dport 1024:65535 -j RETURN -A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 192.168.0.0/16 -A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 10.0.0.0/8 -A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 172.16.0.0/12 -A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 192.168.0.0/16 -A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 10.0.0.0/8 -A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 172.16.0.0/12 -A DOCKER-USER -j RETURN -A ufw-docker-logging-deny -m limit --limit 3/min --limit-burst 10 -j LOG --log-prefix \u0026#34;[UFW DOCKER BLOCK] \u0026#34; -A ufw-docker-logging-deny -j DROP COMMIT # END UFW AND DOCKER ","date":"2023-02-20T19:00:00+08:00","permalink":"https://yuiofastora.github.io/p/setup-docker-and-portainer/","title":"Setup Docker and Portainer"},{"content":"Setup Hugo blog and add comment function with gittalk.\nUsing github-style theme by Meik\n# Install Hugo # Debian sudo apt install hugo\n# Configuration Init site\n1 2 $ hugo new site site-name $ cd site-name Use github-style theme\n1 2 $ cd themes $ git clone https://github.com/MeiK2333/github-style.git Setup readme\n1 2 3 hugo new readme.md echo \u0026#39;`Hello World!`\u0026#39; \u0026gt; content/readme.md #Set \u0026#39;draft:true\u0026#39; to \u0026#39;draft:false\u0026#39; Add new post\n1 hugo new post/title.md Post template\nUse \u0026lt;!--more--\u0026gt; to seperate content that will display in the posts page as abstraction and the rest of the content. This is different from summary, as summary will not appear in the post.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 --- title: \u0026#34;template\u0026#34; date: 2019-10-22T18:46:47+08:00 draft: false tags: [\u0026#39;value_1\u0026#39;, \u0026#39;value_2\u0026#39;] --- abstraction show in the post page \u0026lt;!--more--\u0026gt; other content or --- title: \u0026#34;template\u0026#34; date: 2019-10-22T18:46:47+08:00 draft: false tags: [\u0026#39;value_1\u0026#39;, \u0026#39;value_2\u0026#39;] summary: \u0026#34;The summary content\u0026#34; --- Modify config.toml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 baseURL = \u0026#34;https://blogdomain.com\u0026#34; languageCode = \u0026#34;zh-cn\u0026#34; title = \u0026#34;XXX\u0026#39;s blog\u0026#34; theme = \u0026#34;github-style\u0026#34; pygmentsCodeFences = true pygmentsUseClasses = true [taxonomies] category = \u0026#39;categories\u0026#39; tag = \u0026#39;tags\u0026#39; [params] author = \u0026#34;XXX\u0026#34; description = \u0026#34;In solitude, where we are least alone.\u0026#34; github = \u0026#34;username\u0026#34; facebook = \u0026#34;username\u0026#34; twitter = \u0026#34;username\u0026#34; linkedin = \u0026#34;username\u0026#34; instagram = \u0026#34;username\u0026#34; tumblr = \u0026#34;username\u0026#34; email = \u0026#34;email address\u0026#34; url = \u0026#34;https://domain.com\u0026#34; keywords = \u0026#34;blog\u0026#34; rss = true lastmod = true userStatusEmoji = \u0026#34;😀\u0026#34; favicon = \u0026#34;/images/github.png\u0026#34; location = \u0026#34;Somewhere\u0026#34; [[params.links]] title = \u0026#34;Link\u0026#34; href = \u0026#34;https://domain.com\u0026#34; [[params.links]] title = \u0026#34;Link2\u0026#34; href = \u0026#34;link\u0026#34; icon = \u0026#34;https://domain.com/images/avatar.png\u0026#34; [frontmatter] lastmod = [\u0026#34;lastmod\u0026#34;, \u0026#34;:fileModTime\u0026#34;, \u0026#34;:default\u0026#34;] Start server to preview\n1 2 3 4 # start on port 1313 with github-style theme $ hugo server -t github-style -D # generate site in public directory $ sudo hugo --gc --minify --cleanDestinationDir # Config gittalk Init a new repo for storing comments(enable issues)\nAdd new OAuth app in Settings\u0026gt;Developer settings\u0026gt;OAuth Apps\nAdd\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 [params] enableGitalk = true [params.gitalk] clientID = \u0026#34;Your client ID\u0026#34; clientSecret = \u0026#34;Your client secret\u0026#34; repo = \u0026#34;repo name\u0026#34; owner = \u0026#34;repo\u0026#39;s owner github username\u0026#34; admin = \u0026#34;github username\u0026#34; id = \u0026#34;location.pathname\u0026#34; labels = \u0026#34;gitalk\u0026#34; perPage = 15 pagerDirection = \u0026#34;last\u0026#34; createIssueManually = false distractionFreeMode = false to config.toml\n","date":"2023-01-27T08:20:00+08:00","permalink":"https://yuiofastora.github.io/p/setup-hugo-blog-and-gittalk/","title":"Setup Hugo Blog and gittalk"},{"content":"Self host a bookmark manager with docker.\nhttps://github.com/sissbruecker/linkding\n# Setup with Docker 1 2 3 4 5 docker run -d \\ --name linkding \\ -p 9090:9090 \\ -v {host-data-folder}:/etc/linkding/data \\ sissbruecker/linkding:latest Setup user\n1 docker exec -it linkding python manage.py createsuperuser --username=joe --email=joe@example.com Setup Reverse Proxy with Nginx Add\n1 2 3 4 5 location /linkding { ... proxy_set_header Host $host; proxy_set_header X-Forwarded-Proto $scheme; } to config\n","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-a-bookmark-manager/","title":"Self Hosting A Bookmark Manager"},{"content":"Self host kms service with docker.\nhttps://github.com/Py-KMS-Organization/py-kms\n# Setup With Docker 1 2 3 4 5 docker run -d \\ --name kms \\ -p 1688:1688 \\ -v /data/py-kms:/data \\ pykmsorg/py-kms # Office Activation Go to the installation folder(Normallu C:\\Program Files (x86)\\Microsoft Office\\Office16)\ncscript ospp.vbs /dstatus Check the last 5 characters of installed product key: XXXXX. If multiple keys existed, uninstalling all keys needed.\ncscript ospp.vbs /unpkey:XXXXX Uninstall key\ncscript ospp.vbs /inpkey:XXXX Setup key\ncscript ospp.vbs /sethst:kms.server.com Setup kms server\ncscript ospp.vbs /act Activate\n# Support List Windows Vista Windows 7 Windows 8 Windows 8.1 Windows 10 ( 1511 / 1607 / 1703 / 1709 / 1803 / 1809 ) Windows 10 ( 1903 / 1909 / 20H1, 20H2, 21H1, 21H2 ) Windows 11 ( 21H2 ) Windows Server 2008 Windows Server 2008 R2 Windows Server 2012 Windows Server 2012 R2 Windows Server 2016 Windows Server 2019 Windows Server 2022 Microsoft Office 2010 ( Volume License ) Microsoft Office 2013 ( Volume License ) Microsoft Office 2016 ( Volume License ) Microsoft Office 2019 ( Volume License ) Microsoft Office 2021 ( Volume License ) https://py-kms.readthedocs.io/en/latest/Keys.html\n# Windows PressWin + R to open Run ，Enter powershell then Press Ctrl + Shift + Enter to run as administrator.\nType slmgr.vbs /upkthen pressEnter to uninstall current key.\nTypeslmgr /ipk XXXXXX XXXXXX is the key to be installed.\nTypeslmgr /skms kms.yuiofastora.com to set KMS server\nTypeslmgr /ato to start activation.\nCheck activation information\nType slmgr.vbs -dlv\norwmic path softwarelicensingservice get OA3xOriginalProductKey\n# Office Install VOL edition Office，recommend deploying with Office Tool\nMay need sepecific version of .NetFramework support\nStart Office Tool Plus,click deploy. Uninstall current office products first.\nAdd products Office 专业增强版 2019 - 批量许可证\n在下方的应用程序设置里勾选要安装的Office应用，这里就只选择了Word, Excel, PowerPoint\n添加所需语言\n右侧的部署设置里体系结构选择64位(除非是很老很老的电脑才选择32位)，通道选择 Office 2019 企业长期版，部署模式选择安装，部署完成后选择无即可，安装模块选择Office部署工具\n其他设置都无需改动，保持默认\n点击开始部署进行安装，安装时间视网络情况可能较长，耐心等待安装完成\n安装完成后点击菜单栏的激活选项，展开许可证管理，选择产品为Office专业增强版 2019 - 批量许可证[ProPlus2019volume] 。激活前建议先清除干净本机的激活状态。，点击安装许可证旁的菜单按钮，选择清除激活状态。点击安装许可证，等待安装完成，如无意外，右侧会显示产品密钥安装成功。\nSet KMS server\nFill in the values below\nKMS host: kms.yuiofastora.com\nKMS port: 1688\nsave config\nCheck actication information\nOpen and create any Word, Excel or PPT file，click Files \u0026gt; Account，Check Office actication information.\nGet keys fromPy-kms or Microsoft\n","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-a-kms-server/","title":"Self Hosting A KMS Server"},{"content":"Self host password manager with docker.\nhttps://github.com/dani-garcia/vaultwarden\n# Setup With Docker Generate admin token\nopenssl rand -base64 48\n1 2 3 4 5 6 docker run -d \\ --name bitwarden \\ -p 9090:80 \\ -v {host-data-folder}:/data \\ -e ADMIN_TOKEN=Token_here \\ vaultwarden/server Accessing admin panel from \u0026quot;yourdomain.com/admin\u0026quot; Setup Reverse Proxy with Nginx\n","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-a-password-manager/","title":"Self Hosting A Password Manager"},{"content":"Self host recipe manager with docker\nDjango application to manage, tag and search recipes using either built-in models or external storage providers hosting PDFs, Images or other files. https://github.com/TandoorRecipes/recipes https://docs.tandoor.dev\n# Install And Setup Postgresql As Database Source Create database and user for Tandoor(Alter Superuser needed).\npg_trgm and unaccent extension required, install postgresql-contrib.\nModify config file to allow specific IP accessing the database.\nEdit postgresql.conf :\n1 listen_addresses = \u0026#39;*\u0026#39; Edit pg_hba.conf\nexample config:\n1 2 3 4 #TYPE DATABASE USER ADDRESS METHOD host all all 0.0.0.0/0 trust #allow all access from any ip even without correct password host all all 192.168.1.1/32 md5 #allow access from 192.168.1.1 using password with md5 encoding host all all 192.168.1.1/32 md5 #allow access from 192.168.1.1 using password with plain text # Setting Up With Docker 1 2 3 4 5 6 7 8 9 10 11 12 13 14 docker run -d \\ -v \u0026#34;$(pwd)\u0026#34;/staticfiles:/opt/recipes/staticfiles \\ -v \u0026#34;$(pwd)\u0026#34;/mediafiles:/opt/recipes/mediafiles \\ -p 8435:8080 \\ -e SECRET_KEY=YUOR_BASE64_SECRET_KEY \\ -e DB_ENGINE=django.db.backends.postgresql \\ -e POSTGRES_HOST=YOUR_DATABASE_HOST \\ -e POSTGRES_PORT=5432 \\ -e POSTGRES_USER=DB_USER \\ -e POSTGRES_PASSWORD=DB_PASSWORD \\ -e POSTGRES_DB=DB_NAME \\ -e TIMEZONE=Asia/Shanghai \\ --name tandoor \\ vabene1111/recipes Running with port 8435 exposed.\nCheck time zones: https://timezonedb.com/time-zones\n# Setting Reverse Proxy with Nginx 1 2 3 4 5 6 location / { proxy_set_header X-Forwarded-Proto $scheme; #required, otherwise there will be CSRF error proxy_set_header Host $http_host; #try $host instead if this doesn\u0026#39;t work proxy_pass http://127.0.0.1:8080; proxy_redirect http://127.0.0.1:8080 https://recipes.domain.com;\t#replace port and domain } ","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-a-recipe-manager-tandoor-recipes/","title":"Self Hosting A Recipe Manager-Tandoor Recipes"},{"content":"Self host status page with docker\n# Uptime Kuma Self-hosted monitoring tool\nhttps://github.com/louislam/uptime-kuma\n# Install With Docker 1 2 3 4 5 6 docker run -d \\ --restart=always \\ -p 3001:3001 \\ -v uptime-kuma:/app/data \\ --name uptime-kuma \\ louislam/uptime-kuma:1 Setup Reverse Proxy with Nginx\n# Statping-ng Status Page \u0026amp; Monitoring Server\nhttps://github.com/statping-ng/statping-ng\n# Install With Docker 1 2 3 4 5 6 docker run -d \\ -p 8080:8080 \\ -v /mydir/statping:/app \\ --restart always \\ --name statping \\ adamboutcher/statping-ng Setup Reverse Proxy with Nginx\n# dash. https://github.com/MauriceNino/dashdot\ndash. (or dashdot) is a modern server dashboard, running on the latest tech, designed with glassmorphism in mind. It is intended to be used for smaller VPS and private servers.\n1 2 3 4 5 docker container run -d -it \\ -p 80:3001 \\ -v /:/mnt/host:ro \\ --privileged \\ mauricenino/dashdot ","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-a-status-monitoring-page/","title":"Self Hosting A Status Monitoring Page"},{"content":"Self host URL shortener with docker\nA PHP-based self-hosted URL shortener that can be used to serve shortened URLs under your own domain.\nhttps://github.com/shlinkio/shlink\n# Setup with Docker docker pull shlinkio/shlink:stable\n1 2 3 4 5 6 7 8 9 docker run -d\\ --name my_shlink \\ -p 8080:8080 \\ -e DEFAULT_DOMAIN=doma.in \\ -e IS_HTTPS_ENABLED=true \\ -e GEOLITE_LICENSE_KEY=kjh23ljkbndskj345 \\ shlinkio/shlink:stable If you don\u0026#39;t provide a GeoLite2 license key, Shlink will simply not geolocate visits. # Generate a GeoLite2 license key Create a MaxMind account for GeoLite2.\nGenerate a license key. Its important that you save the value, as you will not be able to recover it afterwards.\nVia environment variable: use GEOLITE_LICENSE_KEY to set your license key.\ngenerate a new API\ndocker exec -it my_shlink shlink api-key:generate\n# Setup shlink client docker pull shlinkio/shlink-web-client\n1 2 3 4 5 6 docker run -d\\ --name shlink-web-client \\ -p 8000:80 \\ -e SHLINK_SERVER_URL=https://doma.in \\ -e SHLINK_SERVER_API_KEY=6aeb82c6-e275-4538-a747-31f9abfba63c \\ shlinkio/shlink-web-client ","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-a-url-shortener/","title":"Self Hosting A URL Shortener"},{"content":"Self host email service\n# Requirements Ports should be open:\nhttps://docs.iredmail.org/network.ports.html\nRAM \u0026gt;= 2 GB\n2vcpus\nUsing Ubuntu 20.04 LTS for this time\n# Enable Google’s TCP BBR 1 2 3 4 5 6 7 8 9 10 11 12 13 14 echo \u0026#34;net.core.default_qdisc=fq\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf echo \u0026#34;net.ipv4.tcp_congestion_control=bbr\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf sysctl -p #Check whether bbr is enabled sysctl net.ipv4.tcp_available_congestion_control #output should be net.ipv4.tcp_congestion_control = bbr #Check whether bbr is started lsmod | grep bbr # Output should be tcp_bbr 20480 14 # Setting up hostname 1 2 3 4 5 6 7 8 9 nano /etc/hosts #add line 127.0.0.1 mail.mydomain.com mail nano /etc/hostname #Change to mail sudo reboot Check hostname\n1 2 3 4 hostname #Output shoulde be mail hostname -f #Output should be mail.mydomain.com # Install Download the latest version\n1 2 3 4 wget https://github.com/iredmail/iRedMail/archive/refs/tags/1.6.2.tar.gz tar -xf iRedMail.tar.gz cd iRedMail-1.4.2 bash iRedMail.sh Follow the setting instructions\nSelect database type to MariaDB\nSet mail domain name mydomain.cominstead of mail.mydomain.com\n1 2 3 4 5 6 7 8 9 10 11 *********************************************************************************** * Storgae base directory: * Mailboxes: * Daily backup of SQL/LDAP databases: /var/mail * Store mail accounts in:\tMariaDB * Web server: Ngnix * First mail domain name: mydomain.com * Mail domain admin: postmaster@mydomain.com * Additional components: Rondcubenail netdata iRedAmin Fail2ban \u0026lt; Question \u0026gt; Continue? [y|N] # Get SSL cert Set DNS record\nmail IN A\nType Host Value Priority TTL A mail Host IP address NA Auotomatic Check DNS recordhttps://www.boce.com/dns/https://dnschecker.org/\nUse ACME scripts for SSL cert\n1 2 3 4 curl https://get.acme.sh | sh #Could be personal mail, or just use default xxxx@xxxx.com ~/.acme.sh/acme.sh --register-account -m xxxx@xxxx.com ~/.acme.sh/acme.sh --issue -d mail.mydomain.com --webroot /var/www/html If timeout when CA processes and checks the domain,\nswitch to letsencrypt\n./acme.sh --set-default-ca --server letsencrypt\nRun\n~/.acme.sh/acme.sh --issue -d mail.mydomain.com --webroot /var/www/html again\nInstall the certification file to specific location\n1 2 3 4 5 #Works on Debian/Ubuntu, FreeBSD and OpenBSD .acme.sh/acme.sh --installcert -d mail.mydomain.com --key-file /etc/ssl/private/iRedMail.key --fullchain-file /etc/ssl/certs/iRedMail.crt #If RHEL/CentOS ./acme.sh --installcert -d mail.mydomain.com --key-file /etc/pki/tls/private/iRedMail.key --fullchain-file /etc/pki/tls/certs/iRedMail.crt Reload services\n1 2 3 service nginx force-reload service postfix reload service dovecot reload Remove greylist\nedit /opt/iredapd/settings.py\ndelet greylisting from\n1 plugins = [\u0026#34;reject_null_sender\u0026#34;, \u0026#34;wblist_rdns\u0026#34;, \u0026#34;reject_sender_login_mismatch\u0026#34;, \u0026#34;greylisting\u0026#34;, \u0026#34;throttle\u0026#34;, \u0026#34;amavisd_wblist\u0026#34;, \u0026#34;sql_alias_access_policy\u0026#34;] then\nservice iredapd restart\n# Setting Up DNS Records # Setting PTR # Setting MX record IN MX mail.example.com\nType Host Value Priority TTL MX @ mail.example.com 10 3600 Get the config from iRedMail.tips file(inside the iRedMail Installer directory)\n# Setting SPF record SPF or Sender Policy Framework is a DNS TXT record that is used to specify which IP addresses and/or servers are allowed to send email “from” that particular domain. It is designed to detect forging sender addresses during the delivery of the email.\nadd text record\nv=spf1 a mx ip4:0.0.0.0 ~all\nv=spf1 – The version of SPF being used, this is the only version available mx – This means all hosts listed in the MX records are allowed to send emails for your domain and all other hosts are disallowed. ip4:0.0.0.0 – This is the IP address of the mail server or domain that is authorized to send email for that domain. Replace the IP in the example with your mail server’s public IP address. ~all – The “all” tag tells the receiving server how it should handle messages sent from a domain that is not listed in the SPF record. The tilde (~) with the ‘a’ is a soft fail, this would mark a server that is not listed in the SPF as spam, you can use -a for a flat out rejection. # Setting DKIM Records DKIM or Domain Keys Identified Mail is an email authentication method that allows mail services to check that an email was indeed sent and authorized by the owner of that domain. In order to achieve this, you give the email a digital signature. This DKIM signature is a header that is added to the message and is secured with encryption.\nThe difference between DKIM and SPF is that DKIM is used to verify that the contents of the message are trustworthy. This is used to check that the email hasn’t been tampered with since the moment it left the initial mail server.\n# Setting DMARC Records DMARC or Domain-based Message Authentication Reporting and Conformance extends DKIM and SPF to determine the authenticity of an email message.\nMost major email providers perform DMARC check by default before accepting the email. By performing these checks, the email provider knows what authentication methods should be present (SPF, DKIM, etc.) and reject messages that fail the checks as specified by the domain’s DMARC record.\nUnlike SPF and DKIM that doesn’t provide reports on sources sending mails, you can get aggregated reports when DMARC is implemented.\nv=DMARC1; p=quarantine; pct=100; rua=mailto:dmarc-reports@mydomain.com The above record states that any email which fails the authentication with the “From” domain is put it in the spam folder 100% of the time and activity is reported to the dmarc-reports@mydomain.com. You can also flat out reject any email that fails the DMARC authentication by setting ‘p=reject’.\n1 2 3 p=reject #reject mails p=none #do nothing p=quarantine #flag as spam # Check Status Check DNS record\nhttps://dnschecker.org/\nCheck DNS blacklist\nhttps://www.boce.com/blacklist/\nhttps://www.dnsbl.info/\nCheck DKIM\nhttps://dmarcian.com/dkim-inspector/ nslookup -type=txt dkim._domainkey.mydomain.com\nCheck DMARC\nhttps://dmarcian.com/dmarc-inspector/\nCheck SPF\nhttps://dmarcian.com/spf-survey/\n# Access EMail 1 2 3 https://mail.mydomain.com/mail #mailbox entrance https://mail.mydomain.com/netdata # Server status monitor https://mail.mydomain.com/iredadmin # Admin panel Add new email user\nUse third-party email clients\nProtocol address ports \u0026amp; secured ports IAMP mail.mydomain.com 143,993(SSl/TLS) POP3 mail.mydomain.com 110,995 SMTP mail.mydomain.com 25,587(STARLS),465(SSl/TLS) 1 2 3 4 5 6 7 8 9 * POP3 service: port 110 over STARTTLS (recommended), or port 995 with SSL. * IMAP service: port 143 over STARTTLS (recommended), or port 993 with SSL. * SMTP service: port 587 over STARTTLS. If you need to support old mail clients with SMTP over SSL (port 465), please check our tutorial: https://docs.iredmail.org/enable.smtps.html * CalDAV and CardDAV server addresses: https://\u0026lt;server\u0026gt;/SOGo/dav/\u0026lt;full email address\u0026gt; For more details, please check detailed documentations: https://docs.iredmail.org/#mua # Test Spammyness of Emails https://www.mail-tester.com/\n# Fail2ban Default max tries is 5 times for postfix\nUnban ip with fail2ban\n# Credits https://v2rayssr.com/iredmail.html\nhttps://upcloud.com/resources/tutorials/install-secure-private-email-server-modoboa\n","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-an-email-server-with-iredmail/","title":"Self Hosting An Email Server With iRedMail"},{"content":"Self host bookstack\nBookStack is a simple, self-hosted, easy-to-use platform for organising and storing information.\nhttps://www.bookstackapp.com/\nhttps://github.com/linuxserver/docker-bookstack\n# Setup with Docker 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 --- version: \u0026#34;2\u0026#34; services: bookstack: image: lscr.io/linuxserver/bookstack container_name: bookstack environment: - PUID=1000 - PGID=1000 - APP_URL= - DB_HOST=bookstack_db - DB_PORT=3306 - DB_USER=bookstack - DB_PASS=\u0026lt;yourdbpass\u0026gt; - DB_DATABASE=bookstackapp volumes: - /path/to/data:/config ports: - 6875:80 restart: unless-stopped depends_on: - bookstack_db bookstack_db: image: lscr.io/linuxserver/mariadb container_name: bookstack_db environment: - PUID=1000 - PGID=1000 - MYSQL_ROOT_PASSWORD=\u0026lt;yourdbpass\u0026gt; - TZ=Europe/London - MYSQL_DATABASE=bookstackapp - MYSQL_USER=bookstack - MYSQL_PASSWORD=\u0026lt;yourdbpass\u0026gt; volumes: - /path/to/data:/config restart: unless-stopped The default username is admin@admin.com with the password of password, access the container at http://dockerhost:6875.\n","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-bookstack/","title":"Self Hosting Bookstack"},{"content":" FileGator is a free, open-source, self-hosted web application for managing files and folders.\nhttps://filegator.io/\n# Setup with Docker docker pull filegator/filegator\n1 2 docker run -p 8000:80 -d filegator/filegator visit: http://127.0.0.1:8000 login as admin/admin123 ","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-filegator/","title":"Self Hosting Filegator "},{"content":" Flame is self-hosted startpage for your server. Its design is inspired (heavily) by SUI. Flame is very easy to setup and use. With built-in editors, it allows you to setup your very own application hub in no time - no file editing necessary.\nhttps://github.com/pawelmalak/flame\n# Setup with Docker 1 docker pull pawelmalak/flame 1 2 # run container docker run -d -p 5005:5005 -v /path/to/data:/app/data -e PASSWORD=flame_password pawelmalak/flame ","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-flame/","title":"Self Hosting Flame"},{"content":" Gokapi is a lightweight server to share files, which expire after a set amount of downloads or days.\nhttps://github.com/Forceu/gokapi\n# Setup with docker docker pull f0rc3/gokapi:latest\n1 docker run -d --name gokapi -v {host-gokapi-data}:/app/data -v {host-gokapi-config}:/app/config -p 53842:53842 f0rc3/gokapi:latest Open http://localhost:53842/setup for initial setup\nSetup variables\nhttps://gokapi.readthedocs.io/en/latest/setup.html\nyourdomain.com/admin for admin panel\n","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-gokapi/","title":"Self Hosting Gokapi"},{"content":" LittleLink Custom is a modification of LittleLink, an open source project with the purpose of enabling people to host their own alternatives to services like Linktree and many.link.\nhttps://littlelink-custom.com/docker\n# Setup with Docker docker pull julianprieber/littlelink-custom\nCreate persistent storage for llc\ndocker volume create llc\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 docker run --detach \\ --name littlelink-custom \\ --hostname littlelink-custom \\ --env HTTP_SERVER_NAME=\u0026#34;www.example.xyz\u0026#34; \\ --env HTTPS_SERVER_NAME=\u0026#34;www.example.xyz\u0026#34; \\ --env SERVER_ADMIN=\u0026#34;admin@example.xyz\u0026#34; \\ --env TZ=\u0026#34;Europe/Berlin\u0026#34; \\ --env PHP_MEMORY_LIMIT=\u0026#34;512M\u0026#34; \\ --env UPLOAD_MAX_FILESIZE=\u0026#34;16M\u0026#34; \\ --publish 80:80 \\ --publish 443:443 \\ --restart unless-stopped \\ --mount source=llc,target=/htdocs \\ julianprieber/littlelink-custom Login to the admin panel with default credentials\nemail: admin@admin.com password: 12345678 Access user panel from mydomain.com/home\n# Reverse Proxy Target URL should be https://localhost:port\nUsing port 443(HTTPS_SERVER) instead of 80\n","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-littlelink-custom/","title":"Self Hosting Littlelink Custom"},{"content":" The open-source core of Pinry, a tiling image board system for people who want to save, tag, and share images, videos and webpages in an easy to skim through format.\nhttps://github.com/pinry/pinry\n1 docker pull getpinry/pinry 1 2 3 4 5 6 # this should be an abs-path not relative path like \u0026#34;.\u0026#34; export DATA_PATH=/abs/path/to/your/data/directory sudo docker run -d=true -p=80:80 \\ -v=${DATA_PATH}:/data \\ getpinry/pinry Create superuser\n1 docker exec -it clever_hermann python manage.py createsuperuser --settings=pinry.settings.docker ","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/self-hosting-pinry/","title":"Self Hosting Pinry"},{"content":" # Update windows 11 # Update GPU Driver # Fresh Install Run powershell as Administrator\n1 wsl --install -d Ubuntu Get other distros from MS store\n# Install apps 1 2 3 4 5 6 7 sudo apt install gedit -y sudo apt install gimp -y # File Browser sudo apt install nautilus -y sudo apt install x11-apps -y To install the Google Chrome for Linux:\nChange directories into the temp folder: cd /tmp Use wget to download it: sudo wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb Get the current stable version: sudo dpkg -i google-chrome-stable_current_amd64.deb Fix the package: sudo apt install --fix-broken -y Configure the package: sudo dpkg -i google-chrome-stable_current_amd64.deb To launch, enter: google-chrome\n# Set Proxy Use Fiddler Classic winconfig to remove Appcontainer network traffic block\nCheck IP Address with:\n1 cat /etc/resolv.conf run proxy software on windows (set \u0026lsquo;Allow LAN\u0026rsquo;)\nhttps://help.ubuntu.com/community/AptGet/Howto#Setting_up_apt-get_to_use_a_http-proxy\nexecute in WSL\n1 export http_proxy=http://IPaddress:proxyport or use proxychains\n# Beautify Windows Terminal https://youtu.be/VT2L1SXFq9U\n# Fix [process exited with code 4294967295] Network issues (VPN)\nrun command to reset windows network\n1 netsh winsock reset Restart windows\n# Fix Display not open / GUI not working # Setting the DISPLAY variable for WSL2 1 export DISPLAY=$(route.exe print | grep 0.0.0.0 | head -1 | awk \u0026#39;{print $4}\u0026#39;):0.0 also put in ~/.bashrc\n# Install vcxsrv on Windows # Start XLaunch on Windows find shortcut, right lick and select properties\nAppend -ac after target path\nlaunch via edited shortcut\nSelect Multiple Windows (default) Select Start no client (default) Check✅ Disable access control Uncheck ☐ Native opengl Save configuration on startup folder, location C:\\Users\\\u0026quot;YOUR_USERNAME\u0026quot;\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup All set\nLaunch GUI apps on WSL.\n","date":"2023-01-26T19:00:47+08:00","permalink":"https://yuiofastora.github.io/p/wsl2-setup/","title":"WSL2 Setup"},{"content":"Install and manage mutliple python environments using pyenv\n# Install pyenv https://k0nze.dev/posts/install-pyenv-venv-vscode/\n# Use pyenv List all installable python versions\npyenv install -l\nInstall specified versions of python\npyenv install x.x.x\nList current installed python versions\npyenv versions\nSet specified versions for current shell session\npyenv shell x.x.x\nSet python version for global usage\npyenv global x.x.x\nSet python version for current path\npyenv local x.x.x\nCreate virtual environment in .venv and activate it\npython -m venv .venv\n.\\.venv\\Scripts\\activate\nget-command pip\nUnset global and use only system Python pyenv global --unset\n","date":"2023-01-26T18:58:00+08:00","permalink":"https://yuiofastora.github.io/p/multiple-python-env-setups/","title":"Multiple Python Env Setups"},{"content":" 本文是对官方开服指南的汉化,同时有所增删\n配置文件参考: https://github.com/JonathanChuyan/sandstorm-server-config https://github.com/zDestinate/INS_Sandstorm 视频教程\n最后更新日期 2022-10-26 # 前置需求(Windows ) 开始服务器安装前，先确保你已安装以下前置\nVisual C++ 2015 运行库\nVisual C++ 2017运行库\n# SteamCMD # 命令行界面 使用该命令行工具安装升级服务器文件\n查看V社官方下载安装教程:\nWindows Linux 如果你使用的是windows,将下载的steamcmd压缩包文件解压到合适的路径,安装过程中会经常需要回到此路径进行操作\n大多数SteamCMD命令都需要知道应用程序ID,沙暴服务器端的应用ID是581330(注意，服务器端应用ID和玩家游戏客户端的ID是不同的，这里需要的是服务器端)\n接下来安装沙暴服务器端:\n启动SteamCMD，初次启动需要点时间下载更新 在SteamCMD命令行窗口中输入login anonymous并回车，这样可以无用户匿名登录下载许多游戏服务器端 输入app_update 581330 validate并回车，将会开始下载安装沙暴服务器端(以后如果游戏有了更新，同样使用该命令更新服务器端) 安装完成后输入quit回车退出SteamCMD 安装完后的文件位置在SteamCMD安装位置/steamapps/common内，具体参考自己SteamCMD的安装路径\n# 图形化界面（Windows） 如果不想用命令行，也可以使用开源GUI应用下载安装沙暴服务器文件\nhttps://github.com/DioJoestar/SteamCMD-GUI\n# 启动服务器 编写一个启动脚本,\n# Windows 在沙暴服务器安装路径sandstorm_server(之前提到的steamapps/common里)创建一个文本文档 其实在哪编写都无所谓，只要你能在正确的路径调用启动,为了方便这里直接在安装路径里创建了 编写启动命令(具体怎么写见下方）,直接把下方的命令复制进去就行，什么也不需要改，现在我们只需要初次启动一下服务器来生成基本的游戏文件,后面再去修改启动脚本即可 快捷键大法CTRL + Shift + S保存文件，另存为start.bat, 注意是 .bat后缀文件 # Linux cd 到安装目录(steamapps/common/sandstorm_server内) 编写并创建start.sh文件 保存并chmod +x start.sh 给个执行权限(具体怎么写见下方,直接把下方的命令复制进去就行，什么也不需要改，现在我们只需要初次启动一下服务器来生成基本的游戏文件,后面再去修改启动脚本即可) 平台 命令 Windows InsurgencyServer.exe Oilfield?Scenario=Scenario_Refinery_Push_Security?MaxPlayers=28 -Port=27102 -QueryPort=27131 -log -hostname=\u0026ldquo;My Server\u0026rdquo; Linux Insurgency/Binaries/Linux/InsurgencyServer-Linux-Shipping Oilfield?Scenario=Scenario_Refinery_Push_Security?MaxPlayers=28 -Port=27102 -QueryPort=27131 -log -hostname=\u0026ldquo;My Server\u0026rdquo; 运行脚本,启动一下游戏,看到命令行显示地图已经加载后就可以直接关掉了,接下来我们开始修改启动脚本\n# 修改启动脚本 对于启动脚本命令，大致格式如下\n1 可执行程序位置 空格 服务器启动后的初始地图场景?其他Travel参数?其他Travel参数 空格 -其他命令行参数 空格 -其他命令行参数 首先是Travel参数(NWI给的名字就叫这玩意),每个参数间无空格分隔，而是使用?分隔, 上面的Maxplayer最大玩家数, 游戏端口号, Query端口号都是travel参数\n然后是命令行参数,每个参数以 - 开头并用空格分隔, 比如上面的-log(启动日志), -hostname（服务器房间名）\n对应到前面的命令就是\n1 服务器应用程序位置 炼油厂地图?炼油厂地图模式?最大玩家数=28 -游戏端口号=27102 -Query端口号=27131 -启用日志 -服务器房间名=\u0026#34;我的沙暴服务器\u0026#34; 首先我们可以更改服务器房间名,玩家在浏览社区服务器的时候，你的房间会以该名称显示,比如这里我们叫 游骑兵#精英特训; 最大玩家数设为8，游戏端口号和Query端口保持官方默认\n启动脚本(Linux)则应为\n1 Insurgency/Binaries/Linux/InsurgencyServer-Linux-Shipping Oilfield?Scenario=Scenario_Refinery_Push_Security?MaxPlayers=8 -Port=27102 -QueryPort=27131 -log -hostname=\u0026#34;游骑兵#精英特训\u0026#34; # 命令行参数 参数 描述 -log 启用日志窗口 -hostname=\u0026ldquo;我的服务器\u0026rdquo; 设置服务器房间名是 -EnableCheats 允许作弊以供测试 -Port=端口号 玩家加入游戏所使用的端口 -QueryPort=端口号 Steam查询服务器所使用的端口,以让服务器能正常出现在游戏的社区服务器列表中 # Travel参数 跟在地图场景代码后,以?分隔\n参数 描述 password 给服务器上锁，需要密码才能加入 MaxPlayers 服务器最大玩家数 # 端口与防火墙放行 至少需要两个端口, 玩家加入端口,查询端口,如果使用rcon,则还需要rcon端口(这个在配置文件里指定,后面会讲)\n官方默认的是27102, 27131,27105,可以自行调整\n这里笔者就全部按官方默认了,\n如果使用的是云主机，请到对应平台商提供的管理面板新建防火墙放行规则\n首先是玩家加入端口,需要放行TCP, UDP（TCP,UDP都必须放行）; Query端口需要放行TCP , UDP (好像只放行UDP也可以) RCON端口只需要放行UDP\n# 添加管理员名单 可以添加指定steam玩家作为管理员,管理员在加入游戏后按下管理员面板键(自行到游戏内按键绑定里查找)即可进行踢人,封禁,换图等操作\n找到沙暴服务器安装目录(steamapps/common/sandstorm_server),\n# Windows 进入Insurgency文件夹,新建Config文件夹然后进入 在Config文件夹内新建Server文件夹并进入 创建Admins.txt，将玩家的steam 64 ID写入，每一行一个steam 64 ID 完整路径样例: steamapps\\common\\sandstorm_server\\Insurgency\\Config\\Server\\Admins.txt # Linux 进入Insurgency目录, 新建目录 mkdir -p Config/Server cd Config/Server 创建Admins.txt，将玩家的steam 64 ID写入，每一行一个steam 64 ID 完整路径样例 steamapps/common/sandstorm_server/Insurgency/Config/Server/Admins.txt 如果你有多个Admins名单，可以使用在启动脚本中加入 参数-AdminList选择要使用哪一个, 比如要使用\nsteamapps/common/sandstorm_server/Insurgency/Config/Server/Admins2.txt，则应在启动脚本中加入 -AdminList=Admins2,不指定-AdminList参数则默认读取Admins.txt\nsteam 64 ID可以通过该网站查询到\n# 添加服务器公告 服务器可以在玩家加载游戏的时候显示编辑好的公告内容(Message of the Day)。将写好的公告直接放入Motd.txt内,该文件默认存放路径为(没有就新建) Insurgency/Config/Server/Motd.txt (与前文的Admins.txt在同一路径)。\n如果你有多个Motd文件，在启动脚本里使用-motd指定要使用哪一个, 如-motd=MyOtherMOTD.txt\n# 远程控制(Rcon) 服务器管理员可以通过Rcon远程管理服务器而无需加入游戏。\n要启用rcon，需要在启动脚本中加入参数: -Rcon -RconPassword=rcon密码 -RconListenPort=27015 ;也可以在Game.ini中配置(后文会讲)\n官方给出的Rcon默认监听端口号为27015（可以自行调整 ），注意将端口号进行防火墙放行，放行协议为UDP\n# Rcon 命令 输入help可以获取所有命令及其用法和描述\n必要参数用“\u0026lt;”和“\u0026gt;”括起来，而可选参数用“[”和“]”括起来。 “net ID”通常是指用户的 Steam ID。\n命令 参数 功能 ban \u0026lt;id/netid/名字\u0026gt; [时长分钟] [原因] 封禁玩家 banid [时长分钟] [原因] 以steam ID封禁玩家，不需要玩家正在服务器游玩 gamemodeproperty [new value] 获取或设置地图模式属性 help 显示所有可用命令 kick \u0026lt;id/netid/name\u0026gt; [原因] 将玩家踢出服务器 listban 显示服务器已封禁的所有玩家 listgamemodeproperties [property filter] 显示目前可用的游戏模式属性 listplayers 显示目前正在服务器游玩的玩家 maps [level filter] 显示可用的地图 permaban \u0026lt;id/netid/name\u0026gt; [原因] 永久封禁玩家 restartround [0 = 不换边, 1 = 换边] 重新开始当前回合 say 像所有玩家发送一条消息，玩家将在左上角看到一条带[Admin]前缀的消息 scenarios [level filter] 显示所有可用地图场景 travel \u0026lt;目标地图的完整代码\u0026gt; 将游戏地图场景立刻改为其他地图 travelscenario \u0026lt;场景代码\u0026gt; 更改到指定场景. unban 为用户解封 示例travel Tell?Scenario=Scenario_Tell_Checkpoint?Lighting=Day\n# 启用经验获取 服务器默认是没有经验获取的，需要使用绑定Steam生成的Token才行\n进入该网站GameStats Token Generator ,点击Connect using steam进行授权\n点击Generate Token生成GameStats token\n然后便可看到类似这样的一行\n1 -GameStatsToken=14172XXXXXXXXXXXXX 直接将其作为参数加入到启动脚本中即可\n一个token可以给多个服务器使用\n# 地图轮换池 默认情况下，服务器会轮换所有可用的PVP对抗地图\n你可以通过MapCycle.txt来指定服务器的地图轮换, 该文件存放在Insurgency/Config/Server/MapCycle.txt(没有就新建,和前文的Admins.txt 在同一路径下),每一行一个地图\n如果你有多个地图池, 在启动脚本中使用-MapCycle=MyOtherMapCycle指定\nMapCycle文件中最简单的格式就是直接将地图场景代码写入，每一行一个,如：\n1 2 3 4 5 6 Scenario_Crossing_Skirmish Scenario_Hideout_Skirmish Scenario_Precinct_Skirmish Scenario_Refinery_Skirmish Scenario_Farmhouse_Skirmish Scenario_Summit_Skirmish 如果你想指定一些特殊模式，比如硬核Checkpoint，则需要添加Mode参数，格式如下\n1 (Scenario=\u0026#34;Scenario_Town_Checkpoint_Security\u0026#34;,Mode=\u0026#34;CheckpointHardcore\u0026#34;) # 所有地图场景代码(14张图) 注意不是所有地图都有Outpost ,Push ,Survival等模式\n# Crossing (Canyon) Scenario****Name Description Scenario_Crossing_Checkpoint_Insurgents Checkpoint 叛军 Scenario_Crossing_Checkpoint_Security Checkpoint 安全部队 Scenario_Crossing_Domination Domination Scenario_Crossing_Firefight_West Firefight West Scenario_Crossing_Frontline Frontline Scenario_Crossing_Push_Insurgents Push 叛军 Scenario_Crossing_Push_Security Push 安全部队 Scenario_Crossing_Skirmish Skirmish Scenario_Crossing_Team_Deathmatch Team Deathmatch # Farmhouse Scenario****Name Description Scenario_Farmhouse_Checkpoint_Insurgents Checkpoint 叛军 Scenario_Farmhouse_Checkpoint_Security Checkpoint 安全部队 Scenario_Farmhouse_Domination Domination Scenario_Farmhouse_Firefight_East Firefight East Scenario_Farmhouse_Firefight_West Firefight West Scenario_Farmhouse_Frontline Frontline Scenario_Farmhouse_Push_Insurgents Push 叛军 Scenario_Farmhouse_Push_Security Push 安全部队 Scenario_Farmhouse_Skirmish Skirmish Scenario_Farmhouse_Team_Deathmatch Team Deathmatch Scenario_Farmhouse_Survival Survival # Hideout (Town) Scenario****Name Description Scenario_Hideout_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Hideout_Checkpoint_Security Checkpoint Security Scenario_Hideout_Domination Domination Scenario_Hideout_Firefight_East Firefight East Scenario_Hideout_Firefight_West Firefight West Scenario_Hideout_Frontline Frontline Scenario_Hideout_Push_Insurgents Push Insurgents Scenario_Hideout_Push_Security Push Security Scenario_Hideout_Skirmish Skirmish Scenario_Hideout_Team_Deathmatch Team Deathmatch Scenario_Hideout_Survival Survival # Hillside (Sinjar) Scenario****Name Description Scenario_Hillside_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Hillside_Checkpoint_Security Checkpoint Security Scenario_Hillside_Domination Domination Scenario_Hillside_Firefight_East Firefight East Scenario_Hillside_Firefight_West Firefight West Scenario_Hillside_Frontline Frontline Scenario_Hillside_Push_Insurgents Push Insurgents Scenario_Hillside_Push_Security Push Security (INS2014 layout) Scenario_Hillside_Skirmish Skirmish Scenario_Hillside_Team_Deathmatch Team Deathmatch Scenario_Hillside_Survival Survival # Ministry Scenario****Name Description Scenario_Ministry_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Ministry_Checkpoint_Security Checkpoint Security Scenario_Ministry_Domination Domination Scenario_Ministry_Firefight_A Firefight Scenario_Ministry_Skirmish Skirmish Scenario_Ministry_Team_Deathmatch Team Deathmatch # Outskirts (Compound) Scenario****Name Description Scenario_Outskirts_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Outskirts_Checkpoint_Security Checkpoint Security Scenario_Outskirts_Firefight_East Firefight East Scenario_Outskirts_Firefight_West Firefight West Scenario_Outskirts_Frontline Frontline Scenario_Outskirts_Push_Insurgents Push Insurgents Scenario_Outskirts_Push_Security Push Security Scenario_Outskirts_Skirmish Skirmish Scenario_Outskirts_Team_Deathmatch Team Deathmatch Scenario_Outskirts_Survival Survival # Precinct Scenario****Name Description Scenario_Precinct_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Precinct_Checkpoint_Security Checkpoint Security Scenario_Precinct_Firefight_East Firefight East Scenario_Precinct_Firefight_West Firefight West Scenario_Precinct_Frontline Frontline Scenario_Precinct_Push_Insurgents Push Insurgents Scenario_Precinct_Push_Security Push Security Scenario_Precinct_Skirmish Skirmish Scenario_Precinct_Team_Deathmatch Team Deathmatch Scenario_Precinct_Survival Survival # Refinery (Oilfield) Scenario****Name Description Scenario_Refinery_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Refinery_Checkpoint_Security Checkpoint Security Scenario_Refinery_Firefight_West Firefight West Scenario_Refinery_Frontline Frontline Scenario_Refinery_Push_Insurgents Push Insurgents Scenario_Refinery_Push_Security Push Security Scenario_Refinery_Skirmish Skirmish Scenario_Refinery_Team_Deathmatch Team Deathmatch # Summit (Mountain) Scenario****Name Description Scenario_Summit_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Summit_Checkpoint_Security Checkpoint Security Scenario_Summit_Firefight_East Firefight East Scenario_Summit_Firefight_West Firefight West Scenario_Summit_Frontline Frontline Scenario_Summit_Push_Insurgents Push Insurgents Scenario_Summit_Push_Security Push Security Scenario_Summit_Skirmish Skirmish Scenario_Summit_Team_Deathmatch Team Deathmatch Scenario_Summit_Survival Survival # Power Plant (PowerPlant) Scenario****Name Description Scenario_PowerPlant_Checkpoint_Insurgents Checkpoint Insurgents Scenario_PowerPlant_Checkpoint_Security Checkpoint Security Scenario_PowerPlant_Domination Domination Scenario_PowerPlant_Firefight_East Firefight East Scenario_PowerPlant_Firefight_West Firefight West Scenario_PowerPlant_Push_Insurgents Push Insurgents Scenario_PowerPlant_Push_Security Push Security Scenario_PowerPlant_Survival Survival # Tideway (Buhriz) Scenario****Name Description Scenario_Tideway_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Tideway_Checkpoint_Security Checkpoint Security Scenario_Tideway_Domination Domination Scenario_Tideway_Firefight_West Firefight West Scenario_Tideway_Frontline Frontline Scenario_Tideway_Push_Insurgents Push Insurgents Scenario_Tideway_Push_Security Push Security # Bab Scenario****Name Description Scenario_Bab_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Bab_Checkpoint_Security Checkpoint Security Scenario_Bab_Domination Domination Scenario_Bab_Firefight_East Firefight East Scenario_Bab_Outpost Outpost Scenario_Bab_Push_Insurgents Push Insurgents Scenario_Bab_Push_Security Push Security # Citadel Scenario****Name Description Scenario_Citadel_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Citadel_Checkpoint_Security Checkpoint Security Scenario_Citadel_Domination Domination Scenario_Citadel_Firefight_East Firefight East Scenario_Citadel_Outpost Outpost Scenario_Citadel_Push_Insurgents Push Insurgents Scenario_Citadel_Push_Security Push Security Scenario_Citadel_Survival Survival 高城的地图模式列表不知道为什么官方从来没有在开服指南里写出过,这里笔者也没有去一一测试，就只给出笔者所玩过的模式\n# Tell Scenario****Name Description Scenario_Tell_Checkpoint_Insurgents Checkpoint Insurgents Scenario_Tell_Checkpoint_Security Checkpoint Security Scenario_Tell_Outpost Outpost 如果你想指定地图是白天还是黑夜, 格式如下(不加此参数,默认为白天),\n1 (Scenario=\u0026#34;Scenario_Town_Checkpoint_Security\u0026#34;,Lighting=\u0026#34;Night\u0026#34;) Lighting参数值为Day或Night\n如果你想指定服务器启动地图的模式,在启动脚本中其后加上 `?Lighting=Night\n# Mod 沙暴的Mod社区托管在Mod.io，想要为服务器加mod需要Mod.io的token\n先注册Mod.io的账户\n点击头像进入用户中心,选择API access\n在OAuth 2 management的 generate access token下给其命名,然后给Read读取权限(Write写入权限没必要)，点击Create token生成\n点击Copy Token进行复制\n编辑\nsteamapps/common/sandstorm_server/Insurgency/Saved/Config/LinuxServer/Engine.ini\n如果你是Windows服务器，启动后没有自动生成Insurgency\\Saved\\Config\\WindowsServer\\Engine.ini，请自行创建相应文件夹和文件\n（Windows服务器就是steamapps/common/sandstorm_server/Insurgency/Saved/Config/WindowsServer/Engine.ini）\n加入一下代码\n1 2 3 [/Script/ModKit.ModIOClient] bHasUserAcceptedTerms=True AccessToken=Token复制到这里 然后保存更改\n在启动脚本中加入 -Mods参数启用mod\n要指定服务器使用哪些mod,在Insurgency/Config/Server/Mods.txt内写入Mod ID (ID 去 mod.io的页面找),每一行一个\n若有多个Mod列表，在启动脚本中加入-ModList=MyCustomModList.txt进行指定\n在启动脚本中指定要使用的mod: -CmdModList=\u0026quot;mod ID1,mod ID2,mod ID3\u0026quot;\n加入 ModDownloadTravelTo=参数指定Mod下载好后要加载的地图(必要) , 这是服务器下载完Mod启动时真正会加载的地图,格式如\n1 Canyon?Scenario=Scenario_Crossing_Checkpoint_Security?Port=7777?QueryPort=27015?MaxPlayers=8 -log -hostname=\u0026#34;\u0026#34; -Mods -ModDownloadTravelTo=Canyon?Scenario=Scenario_Crossing_Checkpoint_Security # Mutators 官方提供了一些整活模式(一些是以前的模式，但是由于玩的人不多就删除了,可通过mutators调出来)，命名为Mutators（突变体的意思，官方mutator这名字选的怪怪的，就不直译了）; 同时一些mod启用也需要指定mutators参数，对应代码看mod介绍页面\n可以在启动脚本中加入-mutators=mutator代码名1,mutator代码名2来指定\n代码名 Mutator 名字 描述 AllYouCanEat All You Can Eat 以100补给点开始游戏 AntiMaterielRiflesOnly Anti-Materiel Only 只允许使用反器材步枪 BoltActionsOnly Bolt-Actions Only 只允许使用栓动式步枪 Broke Broke 以0补给点开始游戏 BudgetAntiquing Budget Antiquing 仅限于旧的和廉价的武器 BulletSponge Bullet Sponge 增加生命值 Competitive Competitive 装备更贵，每一回合时间更短，占点更快 CompetitiveLoadouts Competitive Loadouts 玩家装备变成PvP的装备枪械 FastMovement Fast Movement 行动更快 Frenzy Frenzy 敌人只会用近战，但是有特殊敌人（比如自爆哥） FullyLoaded Fully Loaded 仅有武器大师一个职业，能够使用所有武器装备（望远镜有bug,叫不出火力支援） Guerrillas Guerrillas 以5补给点开始游戏 Gunslingers Gunslingers 敌人使用左轮 Hardcore Hardcore 硬核模式，移动更慢，占点更慢 HeadshotOnly Headshots Only 只有打头才造成伤害 HotPotato Hot Potato 敌人死亡时会掉落手雷 LockedAim Locked Aim 武器总是对准屏幕中央 MakarovsOnly Makarovs Only 只能使用马卡洛夫手枪 NoAim No Aim Down Sights 不允许开镜 NoDrops No Drops 敌人不掉落武器 PistolsOnly Pistols Only 仅能使用手枪 Poor Poor 以有限的少量补给点数开始游戏 ShotgunsOnly Shotguns Only 仅能使用霰弹枪 SlowCaptureTimes Slow Capture Times 占点需要更长时间 SlowMovement Slow Movement 移动变慢 SoldierOfFortune Soldier of Fortune 随着分数增加获取补给点数 SpecialOperations Special Operations 以30补给点开始游戏 Strapped Strapped 以1补给点开始游戏 Ultralethal Ultralethal 所有人一枪即死 Vampirism Vampirism 吸血,获得与对敌人造成的伤害同等的血量 Warlords Warlords 以10补给点开始游戏 # 游戏配置 游戏大部分配置都在 steamapps\\common\\sandstorm_server\\Insurgency\\Saved\\Config\\LinuxServer\\Game.ini （steamapps\\common\\sandstorm_server\\Insurgency\\Saved\\Config\\WindowsServer\\Game.ini）内\n如果你是Windows服务器，启动后没有自动生成Insurgency\\Saved\\Config\\WindowsServer\\Game.ini，请自行创建相应文件夹和文件\n每部分都有其对应的值\n时长单位一般都为秒\n1 [/Script/Insurgency.INSGameMode] 该部分为游戏的通用配置\n对应的属性和值如下\n变量 默认值 描述 bKillFeed False 启用右上角击杀反馈 bKillFeedSpectator True 对观战者和回放启用击杀反馈 bKillerInfo True 对被击杀者显示击杀者信息 bKillerInfoRevealDistance False 显示被击杀距离 TeamKillLimit 3 最大TK次数，TK队友超过此限制次数将被踢出 TeamKillGrace 0.2 TK宽限计时器（不明） TeamKillReduceTime 90 TK计数每多少秒减少1；比如如果玩家TK了两次，90秒内未再TK队友，TK计数会降1 bDeadSay False 允许存活玩家看到死亡玩家的信息 bDeadSayTeam True 允许存活玩家看到死亡玩家的信息(队内信息) bVoiceAllowDeadChat False 允许存活玩家听到死亡玩家的语音 bVoiceEnemyHearsLocal True 附近的敌人能听到语音 多人PVP 模式配置\n# [/Script/Insurgency.INSMultiplayerMode] 变量 默认值 描述 bKillFeedGameStartingIntermissionTime 5 在开始游戏前的准备时间等待额外玩家的额外时长 WinTime 5 进入回合结算前的静止时长 PostRoundTime 15 回合结算信息的时长 PostGameTime 15 游戏结束结算信息的时长 bAutoAssignTeams True 自动分配队伍 bAllowFriendlyFire True 启用友伤 FriendlyFireModifier 0.2 友军伤害比例 FriendlyFireReflect 0 友伤反弹比例 bAutoBalanceTeams True 启用队伍自动平衡 AutoBalanceDelay 10 检测队伍平衡的间隔时长 bMapVoting True 启用下一局地图投票 bUseMapCycle True 启用地图轮换池(MapCycle)，如果为False，则无限循环当前地图 bVoiceIntermissionAllowAll True 允许各回合的间隔时间里两队玩家听到对方语音(欢乐嘲讽) IdleLimit 150 玩家挂机被踢出的时长限制 IdleLimitLowReinforcements 90 低波数增援情况下，玩家挂机时长限制 IdleCheckFrequency 30 每多长时间检查挂机玩家 例\n1 2 3 4 5 6 [/Script/Insurgency.INSGameMode] bKillFeed=True bKillerInfoRevealDistance=True [/Script/Insurgency.INSMultiplayerMode] bAllowFriendlyFire=False 各游戏模式的配置\n每个模式对应的部分如下\nPush: [/Script/Insurgency.INSPushGameMode] Frontline: [/Script/Insurgency.INSFrontlineGameMode] Skirmish: [/Script/Insurgency.INSSkirmishGameMode] Survival: [/Script/Insurgency.INSSurvivalGameMode] Firefight: [/Script/Insurgency.INSFirefightGameMode] Checkpoint: [/Script/Insurgency.INSCheckpointGameMode] Outpost: [/Script/Insurgency.INSOutpostGameMode] Team Deathmatch:[/Script/Insurgency.INSTeamDeathmatchGameMode] 以下General 部分的设置放置在合适的位置可以通用于全局\n# General ([/Script/Insurgency.INSGameMode]) Variable Default Description ObjectiveCaptureTime Varies 占领敌对点位的时长 ObjectiveResetTime -1 没人在点时，占点进度多久开始倒退 负数禁用 ObjectiveSpeedup 0.25 每多一个人可以增加的占点速度倍数 ObjectiveMaxSpeedupPlayers 4 最多多少人能加速占点(超过此人数，占点速度不再提升) # General ([/Script/Insurgency.INSMultiplayerMode]) Variable Default Description MinimumPlayers 1 每队需要多少玩家才能开始游戏 RoundLimit Varies 最大回合数 WinLimit Varies 需要赢多少回合算本局游戏胜利 GameTimeLimit -1 一场游戏最多持续多长 负数禁用 PreRoundLimit 10 游戏开局时的静止时长 RoundTime Varies 回合时长 OverTime 60 超过回合时长时，若点内还在争夺的加时时长 TeamSwitchTime 10 换队时长 SwitchTeamsEveryRound Varies 换边频率, 0 从不，1 每一回合换一次边， 2 每两回合换一次边，以此类推 bAllowPlayerTeamSelect True 允许玩家换边 bBots False 启用AI队友 BotQuots Varies AI队友填补到每边多少人数 InitialSupply 15 起始补给点数 MaximumSupply 15 最大可获取补给点数 bSupplyGainEnabled False 启用补给点数获取(启用后通过设置SupplyGainFrequency,可以让玩家每获得一定分数就获得1补给点) bAwardSupplyInstantly False 补给无冷却 SupplyGainFrequency 150 每多少分获得1补给点 # Push [/Script/Insurgency.INSPushGameMode] Variable Default Description RoundTimeExtension 300 每占领一个点，回合时间延长多久 AttackerWavesPerObjective 5 进攻方每占领一个点，获得多少波增援 AttackerWaveDPR 0.25 进攻方死亡人数达到百分多少消耗一波增援 AttackerWaveTimer 20 进攻方波数增援冷却时长(每多久一波增援) DefenderWavesPerObjective 5 防守方每占领一个点，获得多少波增援（这里官方貌似写错了，写的进攻方） DefenderWaveDPR 0.25 防守方死亡人数达到百分多少消耗一波增援 DefenderWaveTimer 35 防守方波数增援冷却时长(每多久一波增援) LastStandSetupDelay 10 延迟最后一个防守方重生区被禁用 AdvanceAttackerSpawnsDelay 30 延迟进攻方重生 # Frontline [/Script/Insurgency.INSFrontlineGameMode] Variable Default Description StartingWaves 15 起始增援波数 CapturingBonusWave 2 每占一个点获得多少增援 RegressSpawnsTimer 10 失去点以后给玩家的撤退时间 # Skirmish [/Script/Insurgency.INSSkirmishGameMode] Variable Default Description DefaultReinforcementWaves 5 起始波数 CaptureBonusWaves 1 在己方弹药库完好的情况下占点获得的奖励波数 # Survival [/Script/Insurgency.INSSurvivalGameMode] Variable Default Description RoundTimeExtension 300 占了一个点后 回合延长多久 NumWaves 7 多少次成功占点回合结束（包括撤离）；有的地图游玩时实际值可能会与设置不符 bEnableExtractionObjective True 是否启用撤离点 ExtractionObjectiveHoldTime 150 撤离成功需要守点多久 ExtractionSpawnStopTime 0 撤离守点时，还剩多少时间就停止生成AI BotDPRRespawnFinal 0.1 最后一个点时 AI死亡比例达到多少就重生 BotDPRRespawnFirst 0.3 第一个点时 AI 死亡比例达到多少就重生 MinimumBotsPerCompletedObjective 0.5 反击时AI重生延迟，以最小玩家数计算，每完成一个点加多少AI（倍数） MaximumBotsPerCompletedObjective 1.0 以最大玩家数计算，每完成一个点加多少AI bResetLoadoutOnNewRound False 失败后玩家装备是否重置 ObjectiveDefendDistance 2000 AI应该离目标多近，然后才开始保护目标而不是四处游荡 BotMinimumSpawnRange 3000 AI在生成时必须离所有玩家的最小距离 BotMaximumSpawnRange 5000 AI重生时离玩家的最大距离不能大于BotRespawnDistance BotRespawnDistance 10000 离玩家多远时 AI重生在附近的玩家周 ，不能小于BotMaximumSpawnRange BotSpawnDelay 10 敌人在游戏开始多久后才出现 BotRespawnDelay 1 敌人重生延迟 BotRepositionDelay 1 敌人位置重置时间 bUseSpecialWaves True 是否使用特殊敌人波数 SpecialWaveFrequency 2 如果特殊敌人启用，每多少波出现一次 SurvivalWaveConfigAssetPath /Game/Game/Data/Gamemodes/SurvivalWaveConfig_Default.SurvivalWaveConfig_Default 敌人配置路径 SurvivalNightTimeWaveConfigAssetPath /Game/Game/Data/Gamemodes/SurvivalWaveConfig_Night.SurvivalWaveConfig_Night 夜间地图敌人配置路径 PVE通用设置\n# General Coop [/Script/Insurgency.INSCoopMode] Variable Default Description AIDifficulty 0.5 AI 难度 bUseVehicleInsertion True 允许使用皮卡车 FriendlyBotQuota 4 右方AI填补数量 MinimumEnemies 6 最小敌人数量 MaximumEnemies 12 最大敌人数量 # Checkpoint [/Script/Insurgency.INSCheckpointGameMode] Variable Default Description DefendTimer 90 占点后AI发起反击时，玩家需要守点的时长 DefendTimerFinal 180 最后一个点占领后延长的守点时间 RetreatTimer 10 强迫Ai在失去点后撤退的时长 RespawnDPR 0.1 死亡玩家比例达到多少时 才复活AI RespawnDelay 20 AI重生延迟 PostCaptureRushTimer 30 点被炸掉后AI rush该点的时间 CounterAttackRespawnDPR 0.2 反击时 玩家死亡比例达到多少才进行AI重生 CounterAttackRespawnDelay 20 反击时AI重生延迟 ObjectiveTotalEnemyRespawnMultiplierMin 1 按最小玩家数重生AI的倍数 ObjectiveTotalEnemyRespawnMultiplierMax 1 按最大玩家数重生AI的倍数 FinalCacheBotQuotaMultiplier 1.5 若最后一个点为弹药库 增加AI数量的倍数 部分mutator配置相关\n# Headshots Only 1 [/Script/Insurgency.Mutator_HeadshotOnly] INI Entry Default 在启动脚本中加入参数 Description bCheckMeleeDamage false 无 近战爆头是否算入 # Hot Potato 1 [/Script/Insurgency.Mutator_HotPotato] INI Entry Default 在启动脚本中加入参数 Description GrenadeClass /Game/Game/Actors/Projectiles/BP_Projectile_M67.BP_Projectile_M67_C 无 死亡时掉落的手雷种类 ThrowbackWeaponClass /Game/Game/Actors/Weapons/Grenade/BP_Grenade_M67.BP_Grenade_M67_C 无 扔回掉落的手雷时变成哪种手雷 bIgnoreHeadshots false ?HotPotato_bIgnoreHeadshots= 如果被爆头则不掉落手雷 bBotsOnly false ?HotPotato_bBotsOnly= 只有AI掉落手雷 # Vampirism 1 [/Script/Insurgency.Mutator_Vampirism] INI Entry Default Travel URL Parameter Description bCountFriendlyFire false Vampirism_bCountFriendlyFire 把友伤算入吸血 MaxHealth 1000 Vampirism_MaxHealth 攻击其他玩家最大能获取的血量 # Rcon配置 1 2 3 4 [Rcon] bEnabled=True //True启用 Password=密码 ListenPort=27015 //端口号 Settings Default Description bAllowConsoleCommands True 启用控制台命令,启用后，任何未知的 rcon 命令将被解释为控制台命令。 bUseBroadcastAddress True 如果启用，则 rcon将监听所有可用的网络设备。 IncorrectPasswordBanTime 30 如果客户端已达到最大尝试次数，则禁止客户端尝试连接到 rcon 的时间（以分钟为单位）。 ListenAddressOverride 0.0.0.0 如果 bUseBroadcastAddress 为 False，则这是 rcon 绑定到的网络 IP。 MaxPasswordAttempts 3 密码最大失败次数，超过此次数将被Ban # 投票 如果要启用玩家投票（目前只有踢人，不能像叛乱2那样游戏中投票换图），加入\n1 2 3 [/Script/Insurgency.TeamInfo] bVotingEnabled=True TeamVoteIssues=/Script/Insurgency.VoteIssueKick 投票有关配置\n# [/Script/Insurgency.VoteIssueKick] ","date":"2023-01-26T18:55:00+08:00","permalink":"https://yuiofastora.github.io/p/insurgency-sandstorm-%E5%BC%80%E6%9C%8D%E6%8C%87%E5%8D%97/","title":"Insurgency Sandstorm 开服指南"},{"content":"Install ZSH and customzie theme\nTested env: Kubuntu 20.04\n# Install ZSH $ sudo apt-get install zsh\nchange default shell to zsh\n$ chsh -s $(which zsh)\nlog out the current user and log back in to take effect\n# Install oh-my-zsh $ wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh\nsh install.sh\n# Install powerlevel10k theme Install Meslo Nerd Font\nClone file from github and add to zshrc\n$ git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k\nSet ZSH_THEME=\u0026quot;powerlevel10k/powerlevel10k\u0026quot; in ~/.zshrc.\n$ source .zshrc\n# Plugins for oh-my-zsh extract Uncompress tool\nz jump to frequently used directories\ncolored-man-pages Colorful man pages\nsudo Press ESC twice to add sudo for last command\nzsh-syntax-highlighting\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\nSet plugins=(zsh-syntax-highlighting) in ~/.zshrc\nzsh-autosuggestions\ngit clone https://github.com/zsh-users/zsh-autosuggestions.git $ZSH_CUSTOM/plugins/zsh-autosuggestions\nSet plugins=(zsh-autosuggestions) in ~/.zshrc\n","date":"2023-01-26T18:52:00+08:00","permalink":"https://yuiofastora.github.io/p/install-zsh/","title":"Install ZSH"},{"content":"Delete GPG keys with apt-key\nTested env: Ubuntu 20.04\n# List all GPG keys $ sudo apt-key list\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 yui@yui-kubuntu:~$ sudo apt-key list Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)). /etc/apt/trusted.gpg -------------------- pub rsa2048 2016-09-25 [SC] 4AC4 41BE 68B4 ADAB 7439 FBF9 BA30 0B77 55AF CFAE uid [ unknown] Abner Lee \u0026lt;abner@typora.io\u0026gt; /etc/apt/trusted.gpg.d/danielrichter2007-ubuntu-grub-customizer.gpg ------------------------------------------------------------------- pub rsa1024 2010-10-08 [SC] 59DA D276 B942 642B 1BBD 0EAC A8AA 1FAA 3F05 5C03 uid [ unknown] Launchpad PPA for Daniel Richter /etc/apt/trusted.gpg.d/google-chrome.gpg ---------------------------------------- pub rsa4096 2016-04-12 [SC] EB4C 1BFD 4F04 2F6D DDCC EC91 7721 F63B D38B 4796 uid [ unknown] Google Inc. (Linux Packages Signing Authority) \u0026lt;linux-packages-keymaster@google.com\u0026gt; sub rsa4096 2021-10-26 [S] [expires: 2024-10-25] /etc/apt/trusted.gpg.d/microsoft.gpg ------------------------------------ pub rsa2048 2015-10-28 [SC] BC52 8686 B50D 79E3 39D3 721C EB3E 94AD BE12 29CF uid [ unknown] Microsoft (Release signing) \u0026lt;gpgsecurity@microsoft.com\u0026gt; /etc/apt/trusted.gpg.d/steam.gpg -------------------------------- pub rsa2048 2012-12-07 [SC] BA18 16EF 8E75 005F CF5E 27A1 F24A EA9F B054 98B7 uid [ unknown] Valve Corporation \u0026lt;linux@steampowered.com\u0026gt; sub rsa2048 2012-12-07 [E] /etc/apt/trusted.gpg.d/ubuntu-keyring-2012-cdimage.gpg ------------------------------------------------------ pub rsa4096 2012-05-11 [SC] 8439 38DF 228D 22F7 B374 2BC0 D94A A3F0 EFE2 1092 uid [ unknown] Ubuntu CD Image Automatic Signing Key (2012) \u0026lt;cdimage@ubuntu.com\u0026gt; /etc/apt/trusted.gpg.d/ubuntu-keyring-2018-archive.gpg ------------------------------------------------------ pub rsa4096 2018-09-17 [SC] F6EC B376 2474 EDA9 D21B 7022 8719 20D1 991B C93C uid [ unknown] Ubuntu Archive Automatic Signing Key (2018) \u0026lt;ftpmaster@ubuntu.com\u0026gt; # Delete entry Delete entry in /etc/apt/sources.list.d/\n# Delete keys remove typora.io\n$ sudo apt-key del \u0026quot;4AC4 41BE 68B4 ADAB 7439 FBF9 BA30 0B77 55AF CFAE\u0026quot;\nor use the last 8 chars\n$ sudo apt-key del 55AFCFAE\n$ sudo apt update\n","date":"2023-01-26T18:50:00+08:00","permalink":"https://yuiofastora.github.io/p/delete-apt-gpg-key/","title":"Delete apt GPG key"},{"content":"Enforing server security with disabling root login, adding ssh key authentication, setup 2FA.\nTested env: Ubuntu 20.04\nhttps://github.com/midoks/mdserver-web\n# Add a new user with super privileges # Create a new user and add home directory 1 2 3 4 5 6 $ useradd username $ mkdir /home/username $ mkdir /home/username/.ssh $ chmod 700 /home/username/.ssh #Set shell of new user to bash $ usermod -s /bin/bash username # Use SSH key for authentication Generate SSH key\nUse $ ssh-keygen or tools\nssh-keygen -t rsa -m PEM -b 4096 -C \u0026quot;azureuser@myserver\u0026quot;\nCopy the content of generated ssh public key to server\n$ echo 'public_key_string' \u0026gt;\u0026gt; /home/username/.ssh/authorized_keys\nSet permissions\n1 2 3 # Set files permissions to owner read only $ chmod 400 /home/username/.ssh/authorized_keys $ chown username:username /home/username -R Try to login with new user\nSet password of new user\n$ passwd username\nEdit sudo\n$ visudo\n1 2 #Make sure there is sudo group %sudo ALL=(ALL:ALL) ALL Add new user to sudo group\n$ usermod -aG sudo username\nLogout and relogin to take effects\nSet only SSH key authentication\n$ nano /etc/ssh/sshd_config\n1 2 3 4 5 6 7 # Disable root user login PermitRootLogin no # Disable password authentication login PasswordAuthentication no AllowUsers username # Only alow IPV4 AddressFamily inet 1 2 3 AllowUsers This keyword can be followed by a list of user name patterns, separated by spaces. If specified, login is allowed only for user names that match one of the patterns. Only user names are valid; a numerical user ID is not recognized. By default, login is allowed for all users.If the pattern takes the form USER@HOST then USER and HOST are separately checked, restricting logins to particular users from particular hosts. HOST criteria may additionally contain addresses to match in CIDR address/masklen format. The allow/deny users directives are processed in the following order: DenyUsers,AllowUsers. https://man7.org/linux/man-pages/man5/sshd_config.5.html#:~:text=AllowUsers%20This%20keyword%20can%20be,is%20allowed%20for%20all%20users. Restart ssh service $ service ssh restart\n# Set 2FA https://s.yuiofastora.com/pRxZA\nInstall Google Pluggable Authentication Module (PAM)\n$ sudo apt install libpam-google-authenticator\nStart the setup\n$ google-authenticator\nRestart the server\nEdit PAM config\n$ sudo nano /etc/pam.d/sshd\nAdd the following line to the bottom of the file\n1 2 3 4 5 . . . # Standard Un*x password updating. @include common-password auth required pam_google_authenticator.so auth required pam_permit.so Edit SSH config\n$ nano /etc/ssh/sshd_config\nSet ChallengeResponseAuthentication to yes\nAlso add line\nAuthenticationMethods publickey,password publickey,keyboard-interactive\nEdit PAM config again\n$ sudo nano /etc/pam.d/sshd\nComment out @include common-auth\nRestart SSHD service\n$ sudo systemctl restart sshd.service\n","date":"2023-01-26T18:46:00+08:00","permalink":"https://yuiofastora.github.io/p/basic-server-security-enforcing/","title":"Basic Server Security Enforcing"},{"content":"Welcome to Yui\u0026rsquo;s blog. This is the first post.\nPlease read comment policy before posting a comment.\nFor more information about this theme, check the documentation: https://stack.jimmycai.com/\n","date":"2023-01-06T08:00:00+08:00","image":"https://yuiofastora.github.io/p/initiate-site/cover_hu66dc2260028b9a2ea256e6c8c48ae95e_2127373_120x120_fill_box_smart1_3.png","permalink":"https://yuiofastora.github.io/p/initiate-site/","title":"Initiate Site"}]